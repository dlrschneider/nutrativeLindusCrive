<ion-view title="Novo Pedido">
    
    <ion-nav-buttons side="right">
        <button menu-toggle="right" class="button button-icon icon ion-ios-checkmark-empty" ng-click="addPedido()"></button>
    </ion-nav-buttons>
    
    <ion-content has-header="true" class="hasPaddingTop">
        <div class="list">
            
            <div class="item item-divider">
                Cliente
            </div>
            <div ng-show="!cliente.length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoClientes');">
                <h2>Escolher cliente</h2>
            </div>
            <div ng-show="cliente.length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoClientes');">
                <h2>{{ cliente[0] }}</h2>
                <p>{{ cliente[1] }}</p>
            </div>
            <div class="item item-divider">
                Tabela de Preço
            </div>
            <div ng-show="!tabela.length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoTabelaPreco');">
                <h2>Escolher tabela</h2>
            </div>
            <div ng-show="tabela.length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoTabelaPreco');">
                <h2>{{ tabela[0] }}</h2>
            </div>
            <div ng-show="tabela.length > 0" class="item item-divider">
                Prazo do Pagamento
            </div>
            <div ng-show="tabela.length > 0" class="item">
                <h2>{{ prazo[0][1] }}</h2>
            </div>
            
            <div class="item item-divider">
                Observações
            </div>
            <div ng-show="!observacoes.trim().length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoObservacao');">
                <h2>Adicionar observações</h2>
            </div>
            <div ng-show="observacoes.trim().length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoObservacao');">
                <h2>{{ observacoes }}</h2>
            </div>
            
            <div ng-show="tabela.length > 0" class="item item-divider">
                Itens do Pedido
                <div class="row botaoAddItem">
                    <div class="col" ng-click="$state.go('persistt.pedidoNovoItens');">
                        <i class="ion-android-add"></i>
                    </div>
                </div>
            </div>
            <div class="item" ng-repeat="item in itens track by $index">
                <h2 style="width: 90%;">{{item[0]}}</h2>
                <p>{{item[5]}} x {{item[1]}} {{item[4]  | currency:"R$ " }} = {{item[6] | currency:'R$ '}}</p>
                <div class="row botoesPedidos">
                    <div class="col" ng-click="openModalItens(item, $index)">
                        <i class="ion-android-more-vertical"></i>
                    </div>
                </div>
            </div>
            <div ng-show="itens.length > 0" class="item" style="margin-bottom: 5px;">
                <h2><strong>Total {{ vlItens | currency:"R$ " }}</strong></h2>
            </div>
            <div ng-show="tabela.length > 0" class="item" ng-click="$state.go('persistt.pedidoNovoItens');">
                <h2>Adicionar itens</h2>
            </div>
        </div>
    </ion-content>
</ion-view>